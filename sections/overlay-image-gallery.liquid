{% schema %}
{
  "name": "Overlay Image Gallery",
  "max_blocks": 6,
  "blocks": [
    {
      "type": "image_with_text",
      "name": "Image with Overlay Text",
      "settings": [
        {
          "id": "image",
          "type": "image_picker",
          "label": "Image"
        },
        {
          "id": "overlay_text",
          "type": "text",
          "label": "Overlay Text",
          "default": "Your Main Text Here"
        },
        {
          "id": "text",
          "type": "text",
          "label": "Text",
          "default": "Shop Now"
        },
        {
          "id": "text_link",
          "type": "url",
          "label": "Text Link"
          
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Overlay Image Gallery"
    }
  ]
}
{% endschema %}

{% stylesheet %}
 
.gallery-container {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  margin: 20px;
  
    /* Adjust spacing between images */
}
.gallery-block {
  width: calc(33.333% - 20px); /* Adjust based on gap to fit 3 in a row */
  position: relative;
}
.gallery-image {
  width: 100%;
  
  
  display: block;
}
.overlay-content {
position: absolute;
 top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  padding-left: 20px;
  background: rgba(0, 0, 0, 0.5); /* Semi-transparent overlay */
  color: #fff;
  text-align: left;
  
  padding-top: 250px;
  
}
/* Custom button styles */
.overlay-content .button {
  color: #fff; /* White text */
  border-width: .5px; 
    border: solid; 
  border-color: #fff; /* White border */
  background-color: transparent; /* Transparent background */
  padding: 10px 10px; /* Smaller padding for a smaller button */
  text-decoration: none; /* Remove underline from links */
  font-size: 20px; /* Smaller font size */
  cursor: pointer;
  display: inline-block; /* Ensure it's inline */
      
   /* Some space above the button */
}
p.text {
    padding-left: 5px;
}
/* Additional hover effect for the button (optional) */
.overlay-content .button:hover {
  background-color: rgba(255, 255, 255, 0.2);
  border-width: .5px; 
    border: solid; 
  border-color: #fff;
}
  }
 @media (max-width: 749px) {
  .gallery-block {
    width: 100%;
    margin: 20px;
     }
   .overlay-content{
     padding-top: 200px;
  }
}
@media (max-width: 480px) {
  .gallery-block {
    width: auto;
    height: auto;
   
  }
  .gallery-container {
     margin-top: 20px;
    margin-left: 20px;
    margin-right: 20px;
  }
  .overlay-content{
     padding-top: 200px;
  }
}


{% endstylesheet %}


<div class="gallery-container">
  {% for block in section.blocks %}
    <div class="gallery-block">
      <img src="{{ block.settings.image | img_url: '800x' }}" alt="" class="gallery-image">
      <div class="overlay-content">
        <p class="text">{{ block.settings.overlay_text }}</p>
        <a href="{{ block.settings.text_link }}" class="button">{{ block.settings.text }}</a>
      </div>
    </div>
  {% endfor %}
</div>
